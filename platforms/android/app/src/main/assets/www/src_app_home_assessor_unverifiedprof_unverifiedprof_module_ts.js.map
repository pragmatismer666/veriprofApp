{"version":3,"file":"src_app_home_assessor_unverifiedprof_unverifiedprof_module_ts.js","mappings":"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","sources":["./src/app/home/assessor/unverifiedprof/unverifiedprof.module.ts","./src/app/home/assessor/unverifiedprof/unverifiedprof.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UnverifiedprofPage } from './unverifiedprof.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: UnverifiedprofPage\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [UnverifiedprofPage]\n})\nexport class UnverifiedprofPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ToastController, AlertController } from '@ionic/angular';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport { AuthenticateService } from 'src/app/services/authentication.service';\nimport { Router, NavigationExtras } from '@angular/router';\n\n@Component({\n    selector: 'app-unverifiedprof',\n    templateUrl: './unverifiedprof.page.html',\n    styleUrls: ['./unverifiedprof.page.scss'],\n})\nexport class UnverifiedprofPage implements OnInit {\n\n    segment: String = \"unverified\";\n    profs: Array<any> = [];\n    verified: Array<any> = [];\n    x: string;\n\n    constructor(\n        public toastController: ToastController,\n        private router: Router,\n        public restApi: RestApiService,\n        public authService: AuthenticateService,\n        public alertController: AlertController\n    ) { }\n\n    ngOnInit() {\n        this.getUnverifiedProf();\n        this.getVerifiedProf();\n    }\n\n    getUnverifiedProf() {\n        this.restApi.post(\"accessor/get-unverifiedProf\", {}).subscribe((res: any) => {\n            if (res && res.status) {\n                console.log(res.data);\n                if (res.status == \"success\") {\n                    this.profs = res.data;\n                } else {\n                    this.restApi.toast(res.message, 1200);\n                }\n            }\n        }, error => {\n            console.log(error);\n            this.restApi.toast(\"Something went wrong.\", 1200);\n        });\n    }\n\n    getVerifiedProf() {\n        this.restApi.post(\"accessor/get-verifiedProf\", {}).subscribe((res: any) => {\n            if (res && res.status) {\n                console.log(res.data);\n                if (res.status == \"success\") {\n                    this.verified = res.data;\n                } else {\n                    this.restApi.toast(res.message, 1200);\n                }\n            }\n        }, error => {\n            console.log(error);\n            this.restApi.toast(\"Something went wrong.\", 1200);\n        });\n    }\n\n    checkDate(date: string) {\n        return true;\n    }\n\n    async selectDate(x: any) {\n        let nowDateTime = new Date((new Date).getTime() + 60 * 60 * 24 * 1000).toJSON().toString().split(\"T\")[0];\n        const alert = await this.alertController.create({\n            header: \"Please select date\",\n            inputs: [\n                {\n                    name: \"schedule_date\",\n                    placeholder: \"Select DateTime\",\n                    type: \"datetime-local\",\n                    min: `${nowDateTime}T00:00`,\n                }\n            ],\n            buttons: [\n                {\n                    text: \"Cancel\",\n                    role: \"cancel\",\n                    cssClass: \"secondary\",\n                    handler: () => {\n                        console.log(\"Confirm Cancel\");\n                    }\n                },\n                {\n                    text: \"Ok\",\n                    handler: (alertData) => { //takes the data \n                        this.addSchedule(x, alertData.schedule_date);\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    addSchedule(x: any, schedule_date: string) {\n        console.log(x);\n        let newSchedule = {\n            verify_user_id: x.user_id,\n            verify_target: \"profile\",\n            verify_content_id: x.id,\n            created_by: this.authService.user.userId,\n            date: schedule_date\n        }\n        console.log(newSchedule);\n        this.restApi.post(\"accessor/add-schedule\", newSchedule).subscribe((res: any) => {\n            console.log(res);\n            if (res && res.status) {\n                this.getUnverifiedProf();\n                this.restApi.toast(\"Added Schedule successfully\", 1200);\n            } else {\n                this.restApi.toast(res.data, 1200);\n            }\n        }, (error) => {\n            console.log(\"unverifiedprof addSchedule error = : \", error);\n            this.restApi.toast(\"Something went wrong.\", 1200);\n        });\n    }\n\n    verifyProf(data: any) {\n        let navigationExtras: NavigationExtras = {\n            queryParams: {\n                data: JSON.stringify(data),\n                type: \"profile\",\n            }\n        };\n        this.router.navigate([\"home/assessor/reportgenerator\"], navigationExtras);\n    }\n\n    download(filename: string) {\n        this.restApi.downfile(\"uploads/\", filename);\n    }\n}\n"],"names":[],"sourceRoot":"webpack:///"}