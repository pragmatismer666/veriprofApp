{"version":3,"file":"src_app_home_professional_report_report_module_ts.js","mappings":"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","sources":["./src/app/home/professional/report/report.module.ts","./src/app/home/professional/report/report.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReportPage } from './report.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ReportPage\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [ReportPage]\n})\nexport class ReportPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport { AuthenticateService } from 'src/app/services/authentication.service';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-report',\n    templateUrl: './report.page.html',\n    styleUrls: ['./report.page.scss'],\n})\nexport class ReportPage implements OnInit {\n\n    objs: Array<any> = [];\n    reports: Array<any> = [];\n    segment: string = \"reports\";\n    account: string;\n    constructor(public toastController: ToastController, public restApi: RestApiService, public navCtrl: NavController, public authService: AuthenticateService) { }\n\n    ngOnInit() {\n        this.restApi.toast(`Your account plan is a ${this.authService.user.account_type}.`, 1500);\n        this.getMyPDFs();\n        this.getReport();\n    }\n\n    getMyStatus() {\n        this.restApi.post('professional/get-profile', { user_id: this.authService.user.userId }).subscribe((res: any) => {\n            if (res && res.status) {\n                try {\n                    this.account = res.data['0'].account.concat(' Account');\n                }\n                catch (Error) {\n                    this.toastController.create({\n                        message: \"Oops your account doesn't not permit access to reports. upgrade now to Pro Account to begin generating reports from VeriProf.\",\n                        duration: 2000\n                    }).then(toast => toast.present());\n                }\n                if (this.account != \"Pro Account\") {\n                    this.navCtrl.navigateRoot('home/professional');\n                    this.toastController.create({\n                        message: \"Oops your account doesn't not permit access to reports. upgrade now to Pro Account to begin generating reports from VeriProf.\",\n                        duration: 2000\n                    }).then(toast => toast.present());\n                }\n            }\n        }, (error) => {\n            this.toastController.create({\n                message: 'Something went wrong!',\n                duration: 2000\n            }).then(toast => toast.present());\n        });\n    }\n\n    getReport() {\n        this.restApi.post('professional/get-report', { user_id: this.authService.user.userId }).subscribe((res: any) => {\n            console.log(\"professional report getReport = : \", res);\n            if (res && res.status) {\n                if (res.status == true) {\n                    this.reports = res.data;\n                } else {\n                    this.restApi.toast(res.data, 2000);\n                }\n            } else {\n                this.restApi.toast(\"Invalid Database Connection!\", 2000);    \n            }\n        }, (error) => {\n            console.log(\"Report getReport error = : \", error);\n            this.restApi.toast(\"Something went wrong!\", 2000);\n        });\n    }\n\n    // Get my Bid and Plan Documents\n    getMyPDFs() {\n        this.restApi.post(\"professional/get-myReport\", { user_id: this.authService.user.userId }).subscribe((res: any) => {\n            if (res && res.status) {\n                console.log(res.data);\n                if (res.status == \"success\") {\n                    this.objs = res.data;\n                } else {\n                    this.restApi.toast(res.message, 2000);\n                }\n            }\n        }, (error) => {\n            console.log(\"Report getMyPDFs error = : \", error);\n            this.restApi.toast(\"Something went wrong!\", 2000);\n        });\n    }\n\n    download(filename: string) {\n        console.log(filename);\n        // this.restApi.downfile('reports/', filename);\n        this.restApi.downfile(\"\", filename);\n    }\n}\n"],"names":[],"sourceRoot":"webpack:///"}